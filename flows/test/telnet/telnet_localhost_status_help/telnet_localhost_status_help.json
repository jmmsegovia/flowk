{
  "id": "telnet_localhost_status_help",
  "description": "Simple Telnet flow that connects to localhost:4101 and runs status/help commands.",
  "imports": [
    "./subflows/docker_telnet_local.json"
  ],
  "tasks": [
    {
      "id": "telnet.localhost.session",
      "action": "TELNET",
      "host": "localhost",
      "port": 4101,
      "timeoutSeconds": 10,
      "readTimeoutSeconds": 5,
      "lineEnding": "CRLF",
      "steps": [
        { "connect": {} },
        { "send": { "data": "echo status" } },
        {
          "expect": {
            "pattern": "status",
            "capture": "status_output",
            "timeoutSeconds": 3
          }
        },
        { "send": { "data": "echo help" } },
        {
          "expect": {
            "pattern": "help",
            "timeoutSeconds": 3
          }
        },
        { "close": {} }
      ]
    }
  ]
}
