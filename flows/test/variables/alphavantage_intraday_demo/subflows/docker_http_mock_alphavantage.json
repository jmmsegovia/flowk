{
  "id": "docker_http_mock_alphavantage",
  "description": "Run a local HTTP echo server that returns an Alpha Vantage-like payload.",
  "tasks": [
    {
      "id": "docker.pull.http_echo.alphavantage",
      "action": "DOCKER",
      "operation": "IMAGE_PULL",
      "image": "hashicorp/http-echo:0.2.3"
    },
    {
      "id": "docker.run.alphavantage_mock",
      "action": "DOCKER",
      "operation": "CONTAINER_RUN",
      "image": "hashicorp/http-echo:0.2.3",
      "name": "flowk-alphavantage-mock",
      "detach": true,
      "remove_existing": true,
      "ports": [
        "8093:8093"
      ],
      "command": [
        "-listen",
        ":8093",
        "-text",
        "{\"Meta Data\":{\"1. Information\":\"Mock intraday prices\",\"2. Symbol\":\"IBM\",\"3. Last Refreshed\":\"2024-01-02 16:00:00\",\"4. Interval\":\"5min\",\"5. Output Size\":\"compact\",\"6. Time Zone\":\"US/Eastern\"},\"Time Series (5min)\":{\"2024-01-02 16:00:00\":{\"1. open\":\"145.00\",\"2. high\":\"146.20\",\"3. low\":\"144.80\",\"4. close\":\"145.50\",\"5. volume\":123456}}}"
      ]
    },
    {
      "id": "sleep.alphavantage_mock",
      "description": "Wait for the mock server to accept requests.",
      "action": "SLEEP",
      "seconds": 1
    }
  ]
}
